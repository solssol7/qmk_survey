<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#ffffff" />
  <title>ì¥ë³´ê¸° MBTI í…ŒìŠ¤íŠ¸</title>

  <link rel="stylesheet" href="./assets/css/base.css" />
  <link rel="stylesheet" href="./assets/css/layout.css" />
  <link rel="stylesheet" href="./assets/css/components.css" />

  <style>
    /* 1. ì „ì²´ ë ˆì´ì•„ì›ƒ & í°íŠ¸ ê°œì„  */
    body {
      background-color: #f8f9fa; /* ë°°ê²½ì„ ì•„ì£¼ ì—°í•œ íšŒìƒ‰ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ì¹´ë“œì™€ êµ¬ë¶„ */
    }
    .app {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }
    .stage {
      width: 100%;
      max-width: 500px; /* ëª¨ë°”ì¼ ìµœì í™” ë„ˆë¹„ */
    }
    
    /* 2. ì¹´ë“œ ë””ìì¸: ê·¸ë¦¼ì ê°•í™” + ë‘¥ê·¼ ëª¨ì„œë¦¬ */
    .card {
      border: none !important; /* íˆ¬ë°•í•œ í…Œë‘ë¦¬ ì œê±° */
      border-radius: 24px !important;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08) !important; /* ë¶€ë“œëŸ¬ìš´ ê·¸ë¦¼ì */
      overflow: hidden;
      background: #ffffff;
    }

    /* 3. í—¤ë” ì˜ì—­ ê¹”ë”í•˜ê²Œ */
    .topline { border-bottom: none !important; }
    .brandRow {
      border-bottom: none !important; /* êµµì€ ì£¼í™©ìƒ‰ ì¤„ ì œê±° */
      height: 60px;
      position: relative;
    }
    .brandRow__kicker { display: none; } /* ì§€ì €ë¶„í•œ ì‘ì€ í…ìŠ¤íŠ¸ ìˆ¨ê¹€ */
    .brandRow__brand {
      font-size: 18px;
      color: #333;
      font-weight: 800;
    }
    .iconBtn {
      border: none !important;
      background: #f1f3f5 !important; /* ì—°í•œ íšŒìƒ‰ ì›í˜• ë²„íŠ¼ */
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: #333;
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      padding: 0;
      transition: background 0.2s;
    }
    .iconBtn:active { background: #dee2e6 !important; }

    /* 4. ë²„íŠ¼ ë””ìì¸ í˜„ëŒ€í™” (ê°€ì¥ ì¤‘ìš”) */
    .btn {
      border: none !important; /* êµµì€ í…Œë‘ë¦¬ ì œê±° */
      border-radius: 16px !important;
      font-weight: 700 !important;
      transition: transform 0.1s, box-shadow 0.2s !important;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }
    .btn:active { transform: scale(0.97); }

    /* ë©”ì¸ ë²„íŠ¼ (ê·¸ë¼ë°ì´ì…˜ ì ìš©) */
    .btn--pillPrimary {
      background: linear-gradient(135deg, #FF6B6B, #FF8E53) !important; /* íŠ¸ë Œë””í•œ ì½”ë„ ì˜¤ë Œì§€ */
      color: white !important;
      box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4) !important;
    }
    
    /* ì„œë¸Œ ë²„íŠ¼ */
    .btn--pillGhost {
      background: #f1f3f5 !important;
      color: #495057 !important;
      border: none !important;
    }

    /* ì„ íƒì§€ ë²„íŠ¼ (í€´ì¦ˆ) */
    .choicePill {
      border: 1px solid #e9ecef !important; /* ì—°í•œ í…Œë‘ë¦¬ */
      background: #fff !important;
      box-shadow: 0 2px 8px rgba(0,0,0,0.03);
      border-radius: 16px !important;
      transition: all 0.2s;
      color: #333;
    }
    .choicePill:hover {
      border-color: #FF8E53 !important;
      background: #fff7ed !important;
    }
    .choicePill:active {
      transform: scale(0.98);
      background: #ffe8cc !important;
    }

    /* 5. í…ìŠ¤íŠ¸ ê°€ë…ì„± (Word Break) */
    h1, h2, h3, p, .qTitle, .introTitle {
      word-break: keep-all;
      letter-spacing: -0.02em;
    }
    .introTitle {
      font-size: 26px !important;
      margin-bottom: 12px;
      line-height: 1.3;
      color: #111;
    }
    .introDesc {
      font-size: 16px;
      color: #666;
      line-height: 1.6;
    }

    /* 6. ì´ë¯¸ì§€ ë°•ìŠ¤ & ê²°ê³¼ ì¹© */
    .illusBox {
      border: none !important;
      background: #f8f9fa !important; /* ì´ë¯¸ì§€ê°€ ì—†ì„ ë•Œ ì•„ì£¼ ì—°í•œ íšŒìƒ‰ */
      border-radius: 16px;
      margin: 0 16px; /* ì¢Œìš° ì—¬ë°± */
      width: auto !important; /* ê½‰ ì°¨ì§€ ì•Šê²Œ */
      aspect-ratio: 16/9; /* ë¹„ìœ¨ ìœ ì§€ */
    }
    .chips { gap: 8px; }
    .chip {
      background: #f1f3f5 !important;
      border: none !important;
      color: #495057 !important;
      font-weight: 600;
      border-radius: 8px !important;
      padding: 6px 10px !important;
    }
    
    /* ìˆ¨ê¹€ ì²˜ë¦¬ */
    .illusFallback { display: none !important; }
    .uidNote { display: none; }
  </style>
</head>

<body>
  <div class="app">
    <main class="stage">
      <section class="card" aria-live="polite">

        <div id="viewIntro" class="view is-active">
          <header class="brandRow">
            <button class="iconBtn" type="button" aria-label="ë’¤ë¡œ" disabled>â†</button>
            <div class="brandRow__title">
              <div class="brandRow__brand">ì¥ë³´ê¸° ì„±í–¥ í…ŒìŠ¤íŠ¸</div>
            </div>
          </header>

          <div class="illusBox">
            <img id="introImage" alt="" style="width:100%; height:100%; object-fit:contain;" onerror="this.style.display='none';" />
          </div>

          <div class="introCopy" style="padding: 24px 20px;">
            <h1 class="introTitle">1ë¶„ ë§Œì— ëë‚˜ëŠ”<br>ì¥ë³´ê¸° MBTI í…ŒìŠ¤íŠ¸</h1>
            <p class="introDesc">
              ìì£¼ ê°€ëŠ” ë§ˆíŠ¸ì—ì„œ<br />
              â€œë‚˜ì—ê²Œ ë”± ë§ëŠ” ì¶”ì²œâ€ì„ ì°¾ì•„ë“œë ¤ìš”.
            </p>
          </div>

          <div class="actions actions--stack" style="padding: 0 20px 30px;">
            <button id="btnStart" class="btn btn--pillPrimary" type="button">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
            <button id="btnDemo" class="btn btn--pillGhost" type="button" style="display:none;">(ë°ëª¨) ê²°ê³¼ ë³´ê¸°</button>
          </div>
        </div>

        <div id="viewQuiz" class="view">
          <header class="brandRow">
            <button id="btnPrev" class="iconBtn" type="button" aria-label="ì´ì „">â†</button>
            <div class="brandRow__title">
              <div class="brandRow__brand" id="quizTitleTop">ì§ˆë¬¸</div>
            </div>
            <div style="position:absolute; right:20px; top:50%; transform:translateY(-50%); font-size:14px; font-weight:700; color:#adb5bd;">
              <span id="progressLabel">1 / 9</span>
            </div>
          </header>

          <div style="padding: 0 20px;">
            <div class="progressBar" role="progressbar" aria-valuemin="0" aria-valuemax="9" aria-valuenow="1" style="height:6px; background:#f1f3f5; border:none;">
              <div id="barFill" class="progressBar__fill" style="background: linear-gradient(90deg, #FF6B6B, #FF8E53);"></div>
            </div>
          </div>

          <div class="questionBlock" style="margin-top:20px;">
            <h2 id="qTitle" class="qTitle" style="font-size:22px;">ì§ˆë¬¸ ì œëª©</h2>
            <p id="qHint" class="qHint" style="font-size:15px; color:#868e96; margin-top:8px;">íŒíŠ¸ ë¬¸êµ¬</p>
          </div>

          <div class="illusBox" style="margin-top: 10px;">
            <img id="qImage" alt="" style="width:100%; height:100%; object-fit:contain;" onerror="this.style.display='none';" />
          </div>

          <div id="choices" class="choicePills" style="padding: 20px;"></div>
        </div>

        <div id="viewResult" class="view">
          <header class="brandRow">
            <button id="btnBackFromResult" class="iconBtn" type="button" aria-label="ì²˜ìŒìœ¼ë¡œ">â†</button>
            <div class="brandRow__title">
              <div class="brandRow__brand">í…ŒìŠ¤íŠ¸ ê²°ê³¼</div>
            </div>
          </header>

          <div class="resultHead" style="padding: 20px 20px 0;">
            <div class="resultBadgeLine" style="margin-bottom:12px;">
              <span id="resultBadge" style="background:#fff0f6; color:#c02b5e; padding:4px 8px; border-radius:6px; font-size:12px; font-weight:700;">MY TYPE</span>
              <span id="resultCodeText" style="display:none;"></span>
            </div>

            <h2 id="resultTitle" class="resultTitle" style="font-size:26px; color:#111; margin-bottom:8px;">íƒ€ì…ëª…</h2>
            <p id="resultOne" class="resultOne" style="font-size:16px; color:#495057;">í•œ ì¤„ ì†Œê°œ</p>

            <p id="resultRateText" class="resultRate" style="font-size:13px; color:#868e96; margin-top:10px;">
              ì°¸ì—¬ì ì¤‘ <b>00.00%</b>ê°€ ê°™ì€ ìœ í˜•ì…ë‹ˆë‹¤.
            </p>
          </div>

          <div class="illusBox illusBox--portrait" style="background:transparent !important; margin-top:10px;">
            <img id="resultImage" alt="" style="width:100%; border-radius:16px;" onerror="this.style.display='none';" />
          </div>

          <div class="card__body stack" style="padding:20px;">
            <div class="box" style="border:none; background:#f8f9fa; border-radius:16px; padding:16px;">
              <h3 class="h3" style="font-size:16px;">ğŸ‘ ì´ëŸ° ì ì´ ì¢‹ì•„ìš”</h3>
              <div id="strengthChips" class="chips"></div>
            </div>

            <div class="box" style="border:none; background:#f8f9fa; border-radius:16px; padding:16px;">
              <h3 class="h3" style="font-size:16px;">âš ï¸ ì´ê±´ ì¢€ ì£¼ì˜í•´ìš”</h3>
              <div id="riskChips" class="chips"></div>
            </div>

            <div class="box" style="border:none; background:#f8f9fa; border-radius:16px; padding:16px;">
              <h3 class="h3" style="font-size:16px;">ğŸ›’ ì¶”ì²œ ì½”ë„ˆ</h3>
              <div id="sectionChips" class="chips"></div>
            </div>

            <div class="box" style="border:none; background:#f8f9fa; border-radius:16px; padding:16px;">
              <h3 class="h3" style="font-size:16px;">ğŸ›ï¸ ì˜ˆìƒ ì¥ë°”êµ¬ë‹ˆ</h3>
              <div id="basketChips" class="chips"></div>
            </div>
            
            <div id="weightGrid" class="weights" style="display:none;"></div>
          </div>

          <div class="resultActions" style="padding: 0 20px 30px;">
            <div class="saveHint" style="text-align:center; font-size:13px; color:#adb5bd; margin-bottom:10px;">ê²°ê³¼ í™”ë©´ì„ ìº¡ì²˜í•´ì„œ ì €ì¥í•˜ì„¸ìš”!</div>
            <div class="actions actions--stack">
              <button id="btnCopy" class="btn btn--pillPrimary" type="button">ë§í¬ ë³µì‚¬í•˜ê¸°</button>
              <button id="btnSave" class="btn btn--pillGhost" type="button">ë‚´ íƒ€ì… ì €ì¥</button>
              <button id="btnRestart" class="btn btn--pillGhost" type="button" style="background:#fff !important; border:1px solid #dee2e6 !important;">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
            </div>
            <input id="shareUrl" class="shareUrl" style="opacity:0; position:absolute; pointer-events:none;" />
          </div>
        </div>

      </section>
    </main>
    
    <div id="toast" class="toast"></div>
  </div>

  <script src="./assets/js/config.js"></script>
  <script src="./assets/js/utils.js"></script>
  <script src="./assets/js/supabase.js"></script>
  <script src="./assets/js/data.js"></script>
  <script src="./assets/js/quiz.js"></script>
  <script src="./assets/js/main.js"></script>
</body>
</html>
